[gd_scene load_steps=10 format=3 uid="uid://dlhcbfi6ejuxw"]

[ext_resource type="Script" path="res://Scripts/Helper/ParticleHandler.gd" id="1_ru7al"]
[ext_resource type="Shader" path="res://Shaders/ParticleFade.gdshader" id="2_s648u"]
[ext_resource type="Texture2D" uid="uid://c6el0kgeg7p8e" path="res://Palettes/PAL Blue.png" id="3_pem10"]
[ext_resource type="Texture2D" uid="uid://d3by1y7mkpk5k" path="res://Sprites/Particles/Gravity Particle.png" id="4_s0swu"]
[ext_resource type="Script" path="res://Scripts/Helper/DestroyParent.gd" id="5_hx16h"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_48aj2"]
noise_type = 2
seed = 75
frequency = 0.03

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_wkmns"]
seamless = true
seamless_blend_skirt = 0.2
noise = SubResource("FastNoiseLite_48aj2")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_22sxg"]
shader = ExtResource("2_s648u")
shader_parameter/noise_scroll = Vector2(0, 1)
shader_parameter/use_palette = true
shader_parameter/noise_tex = SubResource("NoiseTexture2D_wkmns")
shader_parameter/current_palette = ExtResource("3_pem10")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_6q8hm"]
lifetime_randomness = 0.63
particle_flag_disable_z = true
emission_shape_offset = Vector3(0, -8, 0)
emission_shape = 3
emission_box_extents = Vector3(16, 12, 0)
direction = Vector3(0, -1, 0)
spread = 0.0
initial_velocity_min = 10.0
initial_velocity_max = 50.0
gravity = Vector3(0, 0, 0)

[node name="ParticleHandler" type="Node2D"]
script = ExtResource("1_ru7al")

[node name="GPUParticles2D" type="GPUParticles2D" parent="."]
z_index = 2
material = SubResource("ShaderMaterial_22sxg")
emitting = false
amount = 12
process_material = SubResource("ParticleProcessMaterial_6q8hm")
texture = ExtResource("4_s0swu")
lifetime = 0.4
one_shot = true
explosiveness = 1.0
interpolate = false
local_coords = true

[node name="DestroyParent" type="Timer" parent="."]
one_shot = true
autostart = true
script = ExtResource("5_hx16h")
